# Adapted from Markus Kuhnâ€™s UTF-8 decoder test, available at
# http://www.cl.cam.ac.uk/~mgk25/ucs/examples/UTF-8-test.txt

pr "Greek work kosme"
pr (bytes 0xce 0xba 0xe1 0xbd 0xb9 0xcf 0x83 0xce 0xbc 0xce 0xb5).decode

pr ""
pr "First possible sequence of each length"
pr (bytes 0).decode
pr (bytes 0xc2 0x80).decode
pr (bytes 0xe0 0xa0 0x80).decode
pr (bytes 0xf0 0x90 0x80 0x80).decode
pr (bytes 0xf8 0x88 0x80 0x80 0x80).decode
pr (bytes 0xfc 0x84 0x80 0x80 0x80 0x80).decode

pr ""
pr "Last possible sequence of each length"
pr (bytes 0x7f).decode
pr (bytes 0xdf 0xbf).decode
pr (bytes 0xef 0xbf 0xbf).decode
pr (bytes 0xf7 0xbf 0xbf 0xbf).decode
pr (bytes 0xfb 0xbf 0xbf 0xbf 0xbf).decode
pr (bytes 0xfd 0xbf 0xbf 0xbf 0xbf 0xbf).decode

pr ""
pr "Other boundary conditions"
pr (bytes 0xed 0x9f 0xbf).decode
pr (bytes 0xee 0x80 0x80).decode
pr (bytes 0xef 0xbf 0xbd).decode
pr (bytes 0xf4 0x8f 0xbf 0xbf).decode
pr (bytes 0xf4 0x90 0x80 0x80).decode

pr ""
pr "Unexpected continuation bytes"
pr (bytes 0x80).decode
pr (bytes 0xbf).decode
pr (bytes 0x80 0xbf).decode
pr (bytes 0x80 0xbf 0x80).decode
pr (bytes 0x80 0xbf 0x80 0xbf).decode
pr (bytes 0x80 0xbf 0x80 0xbf 0x80).decode
pr (bytes 0x80 0xbf 0x80 0xbf 0x80 0xbf).decode
pr (bytes 0x80 0xbf 0x80 0xbf 0x80 0xbf 0x80).decode

pr ""
pr "Sequence of all 64 possible continuation bytes"
pr (bytes 0x80 0x81 0x82 0x83 0x84 0x85 0x86 0x87
          0x88 0x89 0x8a 0x8b 0x8c 0x8d 0x8e 0x8f
          0x90 0x91 0x92 0x93 0x94 0x95 0x96 0x97
          0x98 0x99 0x9a 0x9b 0x9c 0x9d 0x9e 0x9f
          0xa0 0xa1 0xa2 0xa3 0xa4 0xa5 0xa6 0xa7
          0xa8 0xa9 0xaa 0xab 0xac 0xad 0xae 0xaf
          0xb0 0xb1 0xb2 0xb3 0xb4 0xb5 0xb6 0xb7
          0xb8 0xb9 0xba 0xbb 0xbc 0xbd 0xbe 0xbf).decode

pr ""
pr "Lonely start characters"
pr (bytes 0xc0 0x20 0xc1 0x20 0xc2 0x20 0xc3 0x20
          0xc4 0x20 0xc5 0x20 0xc6 0x20 0xc7 0x20
          0xc8 0x20 0xc9 0x20 0xca 0x20 0xcb 0x20
          0xcc 0x20 0xcd 0x20 0xce 0x20 0xcf 0x20
          0xd0 0x20 0xd1 0x20 0xd2 0x20 0xd3 0x20
          0xd4 0x20 0xd5 0x20 0xd6 0x20 0xd7 0x20
          0xd8 0x20 0xd9 0x20 0xda 0x20 0xdb 0x20
          0xdc 0x20 0xdd 0x20 0xde 0x20 0xdf 0x20).decode
pr (bytes 0xe0 0x20 0xe1 0x20 0xe2 0x20 0xe3 0x20
          0xe4 0x20 0xe5 0x20 0xe6 0x20 0xe7 0x20
          0xe8 0x20 0xe9 0x20 0xea 0x20 0xeb 0x20
          0xec 0x20 0xed 0x20 0xee 0x20 0xef 0x20).decode
pr (bytes 0xf0 0x20 0xf1 0x20 0xf2 0x20 0xf3 0x20
          0xf4 0x20 0xf5 0x20 0xf6 0x20 0xf7 0x20).decode
pr (bytes 0xf8 0x20 0xf9 0x20 0xfa 0x20 0xfb 0x20).decode
pr (bytes 0xfc 0x20 0xfd 0x20).decode

pr ""
pr "Last continuation byte missing"
pr (bytes 0xc2 0x78).decode
pr (bytes 0xe0 0xa0 0x78).decode
pr (bytes 0xf0 0x90 0x80 0x78).decode
pr (bytes 0xf8 0x88 0x80 0x80 0x78).decode
pr (bytes 0xfc 0x84 0x80 0x80 0x80 0x78).decode
pr (bytes 0xdf 0x78).decode
pr (bytes 0xef 0xbf 0x78).decode
pr (bytes 0xf7 0xbf 0xbf 0x78).decode
pr (bytes 0xfb 0xbf 0xbf 0xbf 0x78).decode
pr (bytes 0xfd 0xbf 0xbf 0xbf 0xbf 0x78).decode
pr (bytes 0xc2 0xe0 0xa0 0xf0 0x90 0x80
          0xf8 0x88 0x80 0x80 0xfc 0x84
          0x80 0x80 0x80 0xdf 0xef 0xbf
          0xf7 0xbf 0xbf 0xfb 0xbf 0xbf
          0xbf 0xfd 0xbf 0xbf 0xbf 0xbf 0x78).decode

pr ""
pr "Impossible bytes"
pr (bytes 0xfe).decode
pr (bytes 0xff).decode
pr (bytes 0xfe 0xfe 0xff 0xff).decode

pr ""
pr "Examples of an overlong ASCII character"
pr (bytes 0xc0 0xaf).decode
pr (bytes 0xe0 0x80 0xaf).decode
pr (bytes 0xf0 0x80 0x80 0xaf).decode
pr (bytes 0xf8 0x80 0x80 0x80 0xaf).decode
pr (bytes 0xfc 0x80 0x80 0x80 0x80 0xaf).decode

pr ""
pr "Maximum overlong sequences"
pr (bytes 0xc1 0xbf).decode
pr (bytes 0xe0 0x9f 0xbf).decode
pr (bytes 0xf0 0x8f 0xbf 0xbf).decode
pr (bytes 0xf8 0x87 0xbf 0xbf 0xbf).decode
pr (bytes 0xfc 0x83 0xbf 0xbf 0xbf 0xbf).decode

pr ""
pr "Overlong representation of the NUL character"
pr (bytes 0xc0 0x80).decode
pr (bytes 0xe0 0x80 0x80).decode
pr (bytes 0xf0 0x80 0x80 0x80).decode
pr (bytes 0xf8 0x80 0x80 0x80 0x80).decode
pr (bytes 0xfc 0x80 0x80 0x80 0x80 0x80).decode

# Illegal code positions                                                     |

#pr ""
#pr "Single UTF-16 surrogates"
#pr (bytes 0xed 0xa0 0x80).decode
#pr (bytes 0xed 0xad 0xbf).decode
#pr (bytes 0xed 0xae 0x80).decode
#pr (bytes 0xed 0xaf 0xbf).decode
#pr (bytes 0xed 0xb0 0x80).decode
#pr (bytes 0xed 0xbe 0x80).decode
#pr (bytes 0xed 0xbf 0xbf).decode
#
#pr ""
#pr "Paired UTF-16 surrogates"
#pr (bytes 0xed 0xa0 0x80 0xed 0xb0 0x80).decode
#pr (bytes 0xed 0xa0 0x80 0xed 0xbf 0xbf).decode
#pr (bytes 0xed 0xad 0xbf 0xed 0xb0 0x80).decode
#pr (bytes 0xed 0xad 0xbf 0xed 0xbf 0xbf).decode
#pr (bytes 0xed 0xae 0x80 0xed 0xb0 0x80).decode
#pr (bytes 0xed 0xae 0x80 0xed 0xbf 0xbf).decode
#pr (bytes 0xed 0xaf 0xbf 0xed 0xb0 0x80).decode
#pr (bytes 0xed 0xaf 0xbf 0xed 0xbf 0xbf).decode

pr ""
pr "Other illegal code positions"
pr (bytes 0xef 0xbf 0xbe).decode
pr (bytes 0xef 0xbf 0xbf).decode
